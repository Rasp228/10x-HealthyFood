---
import AppLayout from "../../layouts/AppLayout.astro";
---

<AppLayout title="Dodaj nowy przepis - HealthyMeal">
  <div id="recipe-form-container"></div>
</AppLayout>

<script>
  // Skrypt kliencki do obsługi formularza
  import { createRoot } from "react-dom/client";
  import { createElement } from "react";
  import RecipeFormModal from "../../components/RecipeFormModal";

  document.addEventListener("DOMContentLoaded", () => {
    const container = document.getElementById("recipe-form-container");
    if (container) {
      const root = createRoot(container);

      // Renderujemy komponent z otwartym modalem
      root.render(
        createElement(RecipeFormModal, {
          isOpen: true,
          onClose: () => {
            // Przekierowanie na stronę główną po zamknięciu
            window.location.href = "/";
          },
        })
      );
    }
  });
</script>
